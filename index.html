<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-08-03 Sat 21:58 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>index</title>
<meta name="author" content="Abhinandh S" />
<meta name="description" content="Nothing special." />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<style>pre.src{background:#11111b;color:white;} </style>
<style> #content{max-width:1800px;}</style>
<style> p{max-width:800px;}</style>
<style> li{max-width:800px;}</style
<style> body{background:#11111b; color:#404040;}</style>
<style> #content{background:#11111b;} </style>
<style> blockquote{background-color: #1e1e2e; border-left:5px solid#cba6f7;} </style>
<style> #table-of-contents header{color: #11111b;} </style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">index</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org492a92e">Welcome</a></li>
<li><a href="#orgacc930a">About me</a></li>
<li><a href="#orgff518db">Super fast nix-shell</a>
<ul>
<li><a href="#org00d757c">Using flake</a></li>
</ul>
</li>
</ul>
</div>
</div>



<div id="outline-container-org492a92e" class="outline-2">
<h2 id="org492a92e">Welcome</h2>
<div class="outline-text-2" id="text-org492a92e">
<ul class="org-ul">
<li>#+SETUPFILE: <a href="https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup">https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">TITLE</th>
<th scope="col" class="org-left">NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">one</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgacc930a" class="outline-2">
<h2 id="orgacc930a">About me</h2>
<div class="outline-text-2" id="text-orgacc930a">

<div id="org18b7b93" class="figure">
<p><img src="../assets/Resized.png" alt="Resized.png" />
</p>
</div>


<p>
<a href=" ../articles/nix-shell.html"> ../articles/nix-shell.html</a>
</p>

<blockquote>
<p>

</p>

<p>
Whatever you do in life will be insignificant, but it's very important that you do it 'cause nobody else will. Like when someone comes into your life and half of you says: "You're nowhere near ready". And the other half says: "Make her yours forever".
</p>
<ul class="org-ul">
<li>Tyler [ Remember me ]</li>
</ul>
</blockquote>

<div class="org-src-container">
<pre class="src src-rust">fn main() {
    println!("Hello world!");
} 
</pre>
</div>
</div>
</div>


<div id="outline-container-orgff518db" class="outline-2">
<h2 id="orgff518db">Super fast nix-shell</h2>
<div class="outline-text-2" id="text-orgff518db">
<p>
A feature of the nix Flake edition is that Nix evaluations are cached.
</p>

<p>
Letâ€™s say that your project has a shell.nix file that looks like this:
</p>

<div class="org-src-container">
<pre class="src src-nix">
{ pkgs ? import &lt;nixpkgs&gt; { } }:
with pkgs;
mkShell {
  buildInputs = [
    nixpkgs-fmt
  ];

  shellHook = ''
    # ...
  '';
}

</pre>
</div>

<p>
Running nix-shell can be a bit slow and take 1-3 seconds.
</p>
</div>

<div id="outline-container-org00d757c" class="outline-3">
<h3 id="org00d757c">Using flake</h3>
<div class="outline-text-3" id="text-org00d757c">
<p>
Now create a flake.nix file in the same repository:
</p>

<div class="org-src-container">
<pre class="src src-nix">
{
  description = "my project description";

  inputs.flake-utils.url = "github:numtide/flake-utils";

  outputs = { self, nixpkgs, flake-utils }:
    flake-utils.lib.eachDefaultSystem
      (system:
        let pkgs = nixpkgs.legacyPackages.${system}; in
        {
          devShells.default = import ./shell.nix { inherit pkgs; };
        }
      );
}

</pre>
</div>

<p>
Run git add flake.nix so that Nix recognizes it.
</p>

<p>
And finally, run nix develop. This is what replaces the old nix-shell invocation.
</p>

<p>
Exit and run again, this command should now be super fast. 
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 03-08-2024</p>
<p class="author">Author: Abhinandh S</p>
<p class="date">Created: 2024-08-03 Sat 21:58</p>
</div>
</body>
</html>
